<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  xmlns:wicket="http://my.site.org">
<head>
	<meta charset="UTF-8">
	<title><wicket:message key="main.title"></wicket:message></title>
	
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
</head>
<body>

<div id="titul">
	<h1><span><wicket:message key="main.title">[main.title]</wicket:message></span></h1>
</div>

<div id="mapa" wicket:id="mapa"></div>

<div id="casovyGrafCont">
	<div class="ui-resizable-handle ui-resizable-n"><hr/></div>
	<div id="casovyGraf" wicket:id="casovyGraf"></div>
</div>
<script>
$( function() {
	$("#casovyGrafCont").resizable({
		handles: { "n": "#casovyGrafCont .ui-resizable-handle.ui-resizable-n" },
		minHeight: $("#casovyGrafCont").height(),
		maxHeight: $(window).height()/2,
	});
} );
</script>

<div id="vyberyDlePoli">
	<wicket:container wicket:id="vyberyDlePoli">
		<div wicket:id="vyber"></div>
	</wicket:container>
</div>

<div id="dataSetSwitcher" wicket:id="dataSetSwitcher"></div>

<!-- Ajax indikator -->
<div id="ajaxIndicator"><div><div><div><img src="/img/nacitani.gif" alt="loading" /></div></div></div></div>

<!-- Napoveda -->
<div id="napoveda">
	<div id="help0" class="block centered" style="display: none;">
		<wicket:message key="help.main"></wicket:message>
		<div class="continue"><a href="#" onclick="nextPart();"><wicket:message key="help.continue"></wicket:message></a></div>
	</div>
	<div id="help1" class="block" style="left: 88px; top: 120px; width: 384px; display: none;">
		<div class="arrow left" style="top: 14px;"></div>
		<wicket:message key="help.datasets"></wicket:message>
		<div class="continue"><a href="#" onclick="nextPart();"><wicket:message key="help.continue"></wicket:message></a></div>
	</div>	
	<div id="help2" class="block" style="right: 32px; top: 88px; width: 512px; display: none;">
		<div class="arrow top" style="right: 256px;"></div>
		<wicket:message key="help.fields"></wicket:message>
		<div class="continue"><a href="#" onclick="nextPart();"><wicket:message key="help.continue"></wicket:message></a></div>
	</div>	
	<div id="help3" class="block" style="right: 32px; bottom: 154px; width: 768px; display: none;">
		<div class="arrow bottom" style="right: 384px;"></div>
		<wicket:message key="help.timeline"></wicket:message>
		<div class="continue"><a href="#" onclick="nextPart();"><wicket:message key="help.continue"></wicket:message></a></div>
	</div>	
</div>

<div id="napovedaButton" >
	<a href="#" onclick="$('#napoveda').toggle();"><i class="fa fa-question-circle" aria-hidden="true"></i></a>
</div>

<script>
var helpParts = [ '#help0', '#help1', '#help2', '#help3' ];
var actPart;

$(document).ready(function () {
	helpButtonPos()
	$("#casovyGrafCont").on('resize', helpButtonPos);
	
	if ( typeof Cookies.get('helpShown') === 'undefined' ) {
		nextPart();
	} else {
		helpShown();
	}
});

$(document).on("keydown", function (ev) {
	if (ev.keyCode == 32) {
		$("#napoveda").show();
	}
});
$(document).on("keyup", function (ev) {
	if (ev.keyCode == 32) {
		$("#napoveda").hide();
	}
});

function nextPart() {
	if ( typeof actPart !== 'undefined' )
		$(actPart).hide();
	
	actPart = helpParts.shift();
	
	if ( typeof actPart !== 'undefined' ) {
		$(actPart).show();
	} else {
		helpShown();
		Cookies.set('helpShown', true);
	}
}

function helpShown()
{
	$("#napoveda").hide();
	$('#napoveda .block').show();
	$('#napoveda .continue').hide();
	$('#napoveda .fuckeu').hide();
}

function helpButtonPos() {
	var bottom = $('#casovyGrafCont').height() + 12;
	$('#napovedaButton').css("bottom", bottom);
}


</script>

</body>
</html>